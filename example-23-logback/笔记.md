#### 整合logback

##### 1、引入依赖
如果要使用logback，原则上是需要添加相关依赖的，但是logback是Spring Boot 默认的日志实现层，因此只要项目中只要添加了spring-boot-starter或者spring-boot-starter-web依赖，默认已经包含logback的相关依赖，
所以无需添加依赖。

##### 2、相关配置
在application.properties文件中增加日志相关配置：
```properties
#日志配置文件所在目录
logging.config=classpath:logback-spring.xml

#日志文件存放目录
global.logback.path=/Users/qin/logs/springBoot/logback
```

##### 3、创建日志配置文件
在项目resource目录下创建logback配置文件，官方推荐命名logback-spring.xml：
```xml
<?xml version="1.0" encoding="UTF-8"?>
<configuration debug="false">
    <!--定义日志文件的存储地址 勿在 LogBack 的配置中使用相对路径-->
    <property name="LOG_HOME" value="/Users/qin/logs" />
    <!-- 控制台输出 -->
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
            <!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符-->
            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>
        </encoder>
    </appender>

    <!-- 按照每天生成日志文件 -->
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <!-- 日志记录器的滚动策略，按大小和日期记录 -->
        <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
            <!--日志文件输出的文件名-->
            <FileNamePattern>${LOG_HOME}/springBoot/logback/myapp.log.%d{yyyy-MM-dd}.log</FileNamePattern>
            <!-- 日志尺寸的阈值 -->
            <maxFileSize>16KB</maxFileSize>
            <!--日志文件保留天数-->
            <MaxHistory>30</MaxHistory>
        </rollingPolicy>
        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
            <!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符-->
            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n</pattern>
        </encoder>
        <!--日志文件最大的大小-->
        <triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
            <MaxFileSize>10MB</MaxFileSize>
        </triggeringPolicy>
    </appender>

    <!-- root节点是必选节点，用来指定最基础的日志输出级别，只有一个level属性 -->
    <!-- 日志输出级别 -->
    <root level="INFO">
        <appender-ref ref="STDOUT" />
        <appender-ref ref="FILE" />
    </root>
</configuration>
```

##### 4、测试
在项目中用两种方式使用logback日志功能。
###### 传统方式
```java
@RestController
public class LogbackController {
    private Logger logger = LoggerFactory.getLogger(LogbackController.class);

    @RequestMapping("/t1")
    public String test1(){
        logger.info("传统方式 info 日志");
        logger.error("传统方式 error 日志");
        logger.debug("传统方式 debug 日志");

        return "ok";
    }
}
```


###### @Slfj 注解方式
```java
@Slf4j
@RestController
public class LogbackSlfjController {
    @RequestMapping("/t2")
    public String test1(){
        log.info("@Slf4j方式 info 日志");
        log.error("@Slf4j方式 error 日志");
        log.debug("@Slf4j方式 debug 日志");

        return "ok";
    }
}
```