邮件是许多项目里都需要用到的功能，Java在诞生之初就支持邮件发送，但是比较麻烦，后来Spring框架在Java发送邮件的基础之上进行了封装，使得邮件的发送开始变的的简单，但是这两种发送邮件的方式都不是今天要介绍的。

今天要介绍的是怎样通过Spring Boot实现一个自己的邮件发送系统，它比前两种方式都简单很多。

#### 开启POP3/SMTP服务
作为发送方，首先需要开启POP3/SMTP服务，登录邮箱后前往设置进行开启，开启后取得授权码。

以163邮箱为例，通过以下几部可以获取到授权码：
1.在页面首部找到设置然后点击，在出现的浮板上点击POP3/SMTP/IMAP。
![41eb88696f9150af928ad62d91502ef9.png](evernotecid://856601FE-F606-47C9-A312-C117E55C924E/appyinxiangcom/17968037/ENResource/p1230)

2. 开启POP3/SMTP服务，获取授权码
在这个过程中会提示你发送短信，按照给短信内容使用自己绑定的手机号发送即可。
![97028fef9c8e42428f751b5832ae553a.png](evernotecid://856601FE-F606-47C9-A312-C117E55C924E/appyinxiangcom/17968037/ENResource/p1231)


这里简单介绍下POP3和SMTP。

POP3是Post Office Protocol 3的简称，即邮局协议的第3个版本,规定了怎样将个人计算机连接到Internet的邮件服务器和下载电子邮件的电子协议。POP3允许用户从服务器上把邮件存储到本地主机（即自己的计算机）上,同时删除保存在邮件服务器上的邮件，而POP3服务器则是遵循POP3协议的接收邮件服务器，用来接收电子邮件的。

SMTP 的全称是“Simple Mail Transfer Protocol”，即简单邮件传输协议。是一组用于从源地址到目的地址传输邮件的规范，通过来控制邮件的中转方式。SMTP 协议属于 TCP/IP 协议簇，帮助每台计算机在发送或中转信件时找到下一个目的地。SMTP 服务器就是遵循 SMTP 协议的发送邮件服务器。



#### 引入依赖
除了项目基本依赖，还需引入依赖。
```xml
<!-- springboot 邮件mail -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-mail</artifactId>
</dependency>
```

#### 相关配置
application.properties配置根据业务需要加入修改如下配置：
```
# 邮件
spring.mail.default-encoding= utf-8
#SMTP 服务器地址
spring.mail.host= smtp.163.com
#端口
spring.mail.port= 465
#发送方邮件名
spring.mail.username= xxxx@163.com
#这里的password是授权码
spring.mail.password= LTJQFPGQLBQVXDWQ
#使用smtp协议
spring.mail.protocol=smtp
```
其中，常见的邮箱类型对应的SMTP 服务器地址映射如下：

| 邮箱类型 |  SMTP服务器地址| 端口号 |
| --- | --- | --- |
|  QQ邮箱|  smtp.qq.com| 465或587 |
|  sina邮箱|  smtp.sina.cn|465或587  |
|  126邮箱| smtp.126.com | 465或994 |
|  aliyun邮箱| smtp.aliyun.com | 465或994 |
|  163邮箱| smtp.163.com |  465或994|
|  yeah邮箱|  smtp.yeah.net|  465或994|


#### 代码编写